<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShopU - ‡§§‡§æ‡§Æ‡•Ä‡§∞ ‡§Ö‡§≤‡•Ä (‡§Ö‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø)</title>
    <style>
        /* ‡§™‡•ç‡§∞‡•ã‡§´‡•á‡§∂‡§®‡§≤ ‡§°‡§ø‡§ú‡§æ‡§á‡§® ‡§î‡§∞ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§ù‡§≤‡§ï [cite: 2026-02-07] */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: #f4f7fc; }
        .header { background: linear-gradient(145deg, #1e2b4f, #2a3f6e); color: white; padding: 30px 20px; text-align: center; border-radius: 0 0 40px 40px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        
        .product-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 28px; padding: 35px 25px; max-width: 1400px; margin: 0 auto; }
        
        .card { background: white; border-radius: 30px; overflow: hidden; box-shadow: 0 20px 30px rgba(0,0,0,0.1); transition: 0.3s; display: flex; flex-direction: column; position: relative; border: 1px solid rgba(255,255,255,0.5); }
        .card:hover { transform: translateY(-8px); }

        /* ‡§´‡•ã‡§ü‡•ã ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§î‡§∞ ‡§ú‡§º‡•Ç‡§Æ ‡§á‡§∂‡§æ‡§∞‡§æ [cite: 2026-02-23] */
        .img-box { height: 250px; background: #eee; position: relative; cursor: zoom-in; }
        .img-box img { width: 100%; height: 100%; object-fit: cover; }
        .zoom-hint { position: absolute; bottom: 10px; right: 10px; background: rgba(0,0,0,0.6); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; }

        .badge { position: absolute; top: 15px; left: 15px; background: #ff6f4a; color: white; padding: 6px 15px; border-radius: 60px; font-weight: bold; font-size: 0.8rem; }
        
        .info { padding: 20px; text-align: center; flex: 1; }
        .price { font-size: 2rem; font-weight: 800; color: #0f3b3b; background: #d4edda; display: inline-block; padding: 6px 30px; border-radius: 60px; margin: 10px 0; border: 1px solid #a3d0b1; }
        
        .qty-row { display: flex; align-items: center; justify-content: center; gap: 20px; margin: 15px 0; background: #f8fafd; padding: 10px; border-radius: 50px; }
        .qty-btn { width: 40px; height: 40px; border: none; border-radius: 50%; background: white; box-shadow: 0 4px 10px rgba(0,0,0,0.1); font-size: 1.5rem; font-weight: bold; cursor: pointer; }
        
        .btn-wa { background: #25D366; color: white; border: none; padding: 16px; border-radius: 50px; font-weight: bold; font-size: 1.1rem; cursor: pointer; width: 100%; margin-bottom: 10px; }
        .payment-options { display: flex; gap: 8px; margin-bottom: 10px; }
        .btn-pay { flex: 1; padding: 12px 5px; border: 1px solid #bdc7db; border-radius: 50px; font-weight: 600; font-size: 0.85rem; background: #f0f3fa; cursor: pointer; }
        
        .btn-book { background: #764ba2; color: white; padding: 14px; border-radius: 50px; font-weight: bold; cursor: pointer; width: 100%; border: none; margin-top: 5px; }
        .btn-free { background: #3498db; color: white; padding: 14px; border-radius: 50px; font-weight: bold; text-decoration: none; display: block; margin-top: 5px; }

        /* ‡§ú‡§º‡•Ç‡§Æ ‡§Æ‡•â‡§°‡§≤ (Full Screen Image) [cite: 2026-02-23] */
        .modal { display: none; position: fixed; z-index: 9999; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); align-items: center; justify-content: center; overflow: auto; }
        .modal img { max-width: 95%; max-height: 90%; border-radius: 10px; box-shadow: 0 0 20px rgba(255,255,255,0.2); }
        .close-modal { position: absolute; top: 20px; right: 30px; color: white; font-size: 50px; font-weight: bold; cursor: pointer; }

        footer { text-align: center; padding: 20px; color: #4a5b7a; border-top: 2px dashed #b3c7e5; margin-top: 20px; }
    </style>
</head>
<body>

<div class="header">
    <h1>üõçÔ∏è ShopU ‚Äì ‡§Ö‡§ï‡•ç‡§≤ ‡§ï‡•Ä ‡§ú‡•Ä‡§§</h1>
    <p>‡§§‡§æ‡§Æ‡•Ä‡§∞ ‡§Ö‡§≤‡•Ä ‡§ï‡§æ '‡§Æ‡§π‡§æ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π' ‡§∏‡•ç‡§ü‡•ã‡§∞ | ‡§Ö‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø</p>
</div>

<div id="imageModal" class="modal" onclick="closeZoom()">
    <span class="close-modal">&times;</span>
    <img id="zoomedImg" src="">
</div>

<div id="product-list" class="product-list">
    <p style="text-align: center; grid-column: 1/-1;">‡§¶‡•Å‡§ï‡§æ‡§® ‡§∏‡§ú ‡§∞‡§π‡•Ä ‡§π‡•à...</p>
</div>

<footer>
    ‚ö° ‡§´‡•ã‡§ü‡•ã ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞ ‡§¨‡•ú‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç ‚Ä¢ ‡§∏‡•Ä‡§ß‡§æ UPI ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‚Ä¢ ‡§§‡§æ‡§Æ‡•Ä‡§∞ ‡§Ö‡§≤‡•Ä ‚ö°
</footer>

<script>
    const sheetyUrl = 'https://api.sheety.co/fe3c8e6fa84d7f88560b1976c0685f08/shopU/sheet1';
    let products = [];

    async function loadShop() {
        try {
            const res = await fetch(sheetyUrl);
            const data = await res.json();
            products = data.sheet1;
            render();
        } catch(e) { 
            document.getElementById('product-list').innerHTML = "‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ: ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•á‡§ú ‡§∞‡§ø‡§´‡•ç‡§∞‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§";
        }
    }

    function render() {
        const container = document.getElementById('product-list');
        container.innerHTML = '';
        products.forEach((item, index) => {
            const cat = item.category ? item.category.toLowerCase().trim() : "";
            const isBook = cat === 'book';
            const isFree = cat.includes('brahmand') || cat === 'free';

            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="img-box" onclick="openZoom('${item.imageUrl}')">
                    <img src="${item.imageUrl}" alt="${item.name}">
                    <span class="badge">${item.category || 'ShopU'}</span>
                    <div class="zoom-hint">üîç ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞ ‡§¨‡•ú‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç</div>
                </div>
                <div class="info">
                    <h3>${item.name}</h3>
                    <p style="color:#666; font-size:0.9rem; margin:8px 0;">${item.description || '‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ ‡§ï‡•ç‡§µ‡§æ‡§≤‡§ø‡§ü‡•Ä'}</p>
                    <div class="price">‚Çπ${item.price}</div>
                    
                    <div class="qty-row">
                        <button class="qty-btn" onclick="updateQty(${index}, -1)">‚àí</button>
                        <b id="q-${index}">1</b>
                        <button class="qty-btn" onclick="updateQty(${index}, 1)">+</button>
                    </div>

                    <button class="btn-wa" onclick="sendWA(${index})">üì≤ WhatsApp ‡§ë‡§∞‡•ç‡§°‡§∞</button>

                    <div class="payment-options">
                        <button class="btn-pay" onclick="futurePay('PhonePe', ${index})">PhonePe</button>
                        <button class="btn-pay" onclick="futurePay('GPay', ${index})">GPay</button>
                        <button class="btn-pay" onclick="futurePay('Paytm', ${index})">Paytm</button>
                    </div>

                    ${isBook ? `<button class="btn-book" onclick="checkLock(${index})">üîê ‡§ö‡§æ‡§¨‡•Ä ‡§°‡§æ‡§≤‡§ï‡§∞ ‡§™‡•ù‡•á‡§Ç</button>` : ''}
                    ${isFree ? `<a href="${item.productLink}" target="_blank" class="btn-free">üìÇ ‡§∏‡•Ä‡§ß‡•á ‡§¶‡•á‡§ñ‡•á‡§Ç (Free)</a>` : ''}
                </div>
            `;
            container.appendChild(card);
        });
    }

    // ‡§ú‡§º‡•Ç‡§Æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§® [cite: 2026-02-23]
    window.openZoom = (url) => {
        document.getElementById('zoomedImg').src = url;
        document.getElementById('imageModal').style.display = 'flex';
    };
    window.closeZoom = () => {
        document.getElementById('imageModal').style.display = 'none';
    };

    window.updateQty = (idx, delta) => {
        const el = document.getElementById(`q-${idx}`);
        let curr = parseInt(el.innerText);
        if (curr + delta >= 1) el.innerText = curr + delta;
    };

    window.sendWA = (idx) => {
        const item = products[idx];
        const qty = document.getElementById(`q-${idx}`).innerText;
        const cleanPrice = String(item.price).replace(/[^0-9]/g, '');
        const total = cleanPrice ? (cleanPrice * qty) : item.price;
        const msg = `‡§®‡§Æ‡§∏‡•ç‡§§‡•á ‡§§‡§æ‡§Æ‡•Ä‡§∞ ‡§Ö‡§≤‡•Ä! ‡§Æ‡•Å‡§ù‡•á ShopU ‡§∏‡•á ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡§∞‡§®‡§æ ‡§π‡•à:%0A%0Aüì¶ *‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü:* ${item.name}%0Aüî¢ *‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ:* ${qty}%0Aüí∞ *‡§ï‡•Å‡§≤ ‡§ï‡•Ä‡§Æ‡§§:* ‚Çπ${total}%0A%0A‡§ï‡•É‡§™‡§Ø‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡§®‡•ç‡§´‡§∞‡•ç‡§Æ ‡§ï‡§∞‡•á‡§Ç‡•§`;
        window.open(`https://wa.me/918797221991?text=${msg}`, '_blank');
    };

    window.futurePay = (method, idx) => {
        const item = products[idx];
        const qty = document.getElementById(`q-${idx}`).innerText;
        const cleanPrice = String(item.price).replace(/[^0-9]/g, '');
        const total = cleanPrice ? (cleanPrice * qty) : 0;
        if(total > 0) {
            const upiId = "8797221991@ybl"; 
            const upiLink = `upi://pay?pa=${upiId}&pn=Tamir%20Ali&am=${total}&cu=INR&tn=ShopU%20Order`;
            window.location.href = upiLink;
        } else { alert("‡§Ø‡§π ‡§´‡•ç‡§∞‡•Ä ‡§π‡•à‡•§"); }
    };

    window.checkLock = (idx) => {
        const item = products[idx];
        const userKey = prompt("üîê ‡§ö‡§æ‡§¨‡•Ä (Code) ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç:");
        const correctKey = item.keyCode ? item.keyCode.trim() : "SVM@786";
        if (userKey && userKey.trim() === correctKey) {
            alert("‚úÖ ‡§Ö‡§ï‡•ç‡§≤ ‡§ï‡•Ä ‡§ú‡•Ä‡§§ ‡§π‡•Å‡§à!");
            window.open(item.productLink.startsWith('http') ? item.productLink : 'https://' + item.productLink, '_blank');
        } else if (userKey !== null) { alert("‚ùå ‡§ó‡§≤‡§§ ‡§ö‡§æ‡§¨‡•Ä!"); }
    };

    loadShop();
</script>
</body>
</html>
